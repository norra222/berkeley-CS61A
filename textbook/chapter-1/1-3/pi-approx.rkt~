#lang racket

(define (product f a next b)
  (if (> a b)
      1
      (* (f a)
         (product f (next a) next b))))

(define (identity x) x)
(define (iter x) (+ x 1))

(define (factorial x) (product identity 1 iter x))

;(product identity 1 iter 10)
;(factorial 5)

(define (pi-f x)
  (* (/ x (+ x 1))
     (/ (+ x 2) (+ x 1))))

(define (pi-next x) (+ x 2))

(define (pi-approx n)
  (* 4 (product pi-f 2.0 pi-next n)))

(pi-approx 1000)

